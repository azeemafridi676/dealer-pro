<!-- Corporations List View -->
<div *ngIf="!showCorpUsers" class="container mx-auto py-6">
  <!-- Header Section -->
  <div class="flex flex-col lg:flex-row justify-between items-start p-4 lg:items-center gap-3 lg:gap-4 mb-4 lg:mb-6">
    <div class="flex w-full items-center justify-between space-x-3 lg:space-x-5 w-full">
      <div>
        <div class="space-y-1">
          <div class="flex items-center space-x-3">
            <h1 class="text-2xl sm:text-2xl font-semibold text-primary truncate">
                Corporations Management
            </h1>
          </div>
          <div class="flex items-center">
            <p class="text-sm text-gray-600 truncate">
              Manage corporations and their resources.
            </p>
          </div>
        </div>
      </div>
      <div class="flex justify-end items-center mb-6">
        <button (click)="openModal()" class="bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors flex items-center">
          <i class="ri-building-2-line mr-2"></i>Add Corporation
        </button>
      </div>
    </div>
  </div>

  <!-- Table Container -->
  <div class="rounded-xl shadow overflow-hidden border border-primary/10">
    <!-- Skeleton Loading -->
    <table *ngIf="loading" class="min-w-full divide-y bg-white">
      <thead>
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider">
            <div class="h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"></div>
          </th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider">
            <div class="h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"></div>
          </th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider">
            <div class="h-4 w-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"></div>
          </th>
          <th scope="col" class="px-6 py-3 text-right text-xs font-medium uppercase tracking-wider">
            <div class="h-4 w-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse ml-auto"></div>
          </th>
        </tr>
      </thead>
      <tbody class="divide-y divide-primary/10">
        <tr *ngFor="let i of [1,2,3,4,5]" class="animate-pulse">
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center">
              <div class="flex-shrink-0 h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-full"></div>
              <div class="ml-4">
                <div class="h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded"></div>
              </div>
            </div>
          </td>
          <td class="px-6 py-4">
            <div class="flex flex-wrap gap-1">
              <div class="h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"></div>
              <div class="h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded-full"></div>
              <div class="h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"></div>
            </div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"></div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-right">
            <div class="h-4 w-8 bg-gray-200 dark:bg-gray-700 rounded ml-auto"></div>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Actual Content -->
    <table *ngIf="!loading" class="min-w-full divide-y bg-white  rounded-xl">
      <thead>
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider">Corporation</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider">Resources</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider">Status</th>
          <th scope="col" class="px-6 py-3 text-right text-xs font-medium uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-primary/10">
        <tr *ngFor="let corp of corporations" class="cursor-pointer" (click)="viewCorporationUsers(corp)">
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center">
              <div class="flex-shrink-0 h-10 w-10 bg-primary rounded-full flex items-center justify-center">
                <span class="text-white font-medium">{{ corp.corp_name.charAt(0) }}</span>
              </div>
              <div class="ml-4">
                <div class="text-sm font-medium text-main">{{ corp.corp_name }}</div>
              </div>
            </div>
          </td>
          <td class="px-6 py-4">
            <div class="flex flex-wrap gap-1">
              <span *ngFor="let resource of corp.allowed_resources_names" 
                    class="px-2 py-1 text-xs font-medium rounded-full bg-primary text-white">
                {{ resource.title }}
              </span>
            </div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full text-main">
              {{ corp.corp_active ? 'Active' : 'Inactive' }}
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <div class="flex justify-end items-center space-x-2">
              <button (click)="$event.stopPropagation(); openModal(corp)" class="text-green-600 hover:text-green-800 mr-2">
                <i class="ri-edit-line text-2xl"></i>
              </button>
              <button (click)="$event.stopPropagation(); deleteCorporation(corp.corp_id)" class="text-red-600 hover:text-red-800">
                <i class="ri-delete-bin-line text-2xl"></i>
              </button>
            </div>
          </td>
        </tr>
        <tr *ngIf="corporations.length === 0">
          <td colspan="4" class="px-6 py-4 text-center text-main-light">
            No corporations found
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- Pagination Controls -->
  <div *ngIf="!loading && totalItems > 0" class="mt-6 flex justify-between items-center">
    <div class="text-sm text-gray-500">
      Showing {{ (currentPage - 1) * itemsPerPage + 1 }} to {{ currentPage * itemsPerPage > totalItems ? totalItems : currentPage * itemsPerPage }} of {{ totalItems }} items
    </div>
    <nav aria-label="Pagination" class="flex space-x-1">
      <button 
        [disabled]="currentPage === 1"
        (click)="changePage(currentPage - 1)" 
        class="p-2 rounded-full border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"
        aria-label="Previous page"
      >
        <i class="ri-arrow-left-s-line"></i>
      </button>
      <ng-container *ngFor="let page of getDisplayedPageNumbers()">
        <button 
          (click)="changePage(page)"
          [ngClass]="{
            'bg-primary text-white hover:bg-primary/90': page === currentPage,
            'bg-white text-gray-500 hover:bg-gray-50': page !== currentPage
          }"
          class="h-9 w-9 flex items-center justify-center rounded-full border border-gray-200"
        >
          {{ page }}
        </button>
      </ng-container>
      <button 
        [disabled]="currentPage === totalPages || totalPages === 0"
        (click)="changePage(currentPage + 1)" 
        class="p-2 rounded-full border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"
        aria-label="Next page"
      >
        <i class="ri-arrow-right-s-line"></i>
      </button>
    </nav>
  </div>
</div>

<!-- Corporation Users View -->
<app-corp-users 
  *ngIf="showCorpUsers" 
  [selectedCorp]="selectedCorpForUsers"
  (backToCorporations)="backToCorporations()">
</app-corp-users>

<!-- Company Registration Modal -->
<div *ngIf="isVisible" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50">
  <div class="bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl p-4 max-h-[95vh] overflow-y-auto border border-gray-200 dark:border-gray-700" [@modalAnimation] (click)="$event.stopPropagation()">
    <div class="flex justify-between items-center mb-2">
      <div class="flex items-center space-x-2">
        <i class="ri-building-line text-xl text-main"></i>
        <h2 class="text-xl font-bold text-main">
          {{ isEditMode ? 'Edit Corporation' : 'Company Registration' }}
        </h2>
      </div>
      <button (click)="closeModal()" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
        <i class="ri-close-line text-xl"></i>
      </button>
    </div>
    <div class="text-sm text-gray-500 mb-3">
      {{ isEditMode ? 'Update corporation details' : 'Register your company to get started with DealerPro.' }}
    </div>

    <form [formGroup]="corpForm" (ngSubmit)="onSubmit()" class="space-y-4">
      <!-- Company Information Section -->
      <div>
        <h3 class="text-lg font-semibold text-main mb-2">Company Information</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div>
            <label class="block text-sm font-medium text-main mb-1">Organization Number</label>
            <div class="flex items-center space-x-2">
              <div class="relative flex-1">
                <i class="ri-building-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="text" formControlName="organization_number" placeholder="Enter organization number e.g. 559360-9844" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white">
              </div>
              <button type="button" (click)="onOrgSearch()" [disabled]="orgSearchLoading || !corpForm.get('organization_number')?.value" class="w-10 h-10 flex items-center justify-center rounded-lg bg-primary hover:bg-primary-dark transition-colors text-white focus:outline-none">
                <ng-container *ngIf="!orgSearchLoading">
                  <i class="ri-search-line text-lg"></i>
                </ng-container>
                <ng-container *ngIf="orgSearchLoading">
                  <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                </ng-container>
              </button>
            </div>
            <div *ngIf="corpForm.get('organization_number')?.touched && corpForm.get('organization_number')?.invalid" class="text-xs text-red mt-1">Organization Number is required.</div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">Company Name</label>
            <div class="relative">
              <i class="ri-building-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
              <input type="text" formControlName="corp_name" placeholder="Enter company name" autocomplete="off" [readonly]="corpForm.get('corp_name')?.disabled" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            </div>
            <div *ngIf="corpForm.get('corp_name')?.touched && corpForm.get('corp_name')?.invalid" class="text-xs text-red mt-1">Company Name is required.</div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">Street Address</label>
            <input type="text" formControlName="street_address" placeholder="Enter street address" autocomplete="off" [readonly]="corpForm.get('street_address')?.disabled" class="w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            <div *ngIf="corpForm.get('street_address')?.touched && corpForm.get('street_address')?.invalid" class="text-xs text-red mt-1">Street Address is required.</div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">Registered City (Seat)</label>
            <input type="text" formControlName="registered_city" placeholder="Enter registered city" autocomplete="off" [readonly]="corpForm.get('registered_city')?.disabled" class="w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            <div *ngIf="corpForm.get('registered_city')?.touched && corpForm.get('registered_city')?.invalid" class="text-xs text-red mt-1">Registered City is required.</div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">Postal Code</label>
            <input type="text" formControlName="postal_code" placeholder="Enter postal code" autocomplete="off" [readonly]="corpForm.get('postal_code')?.disabled" class="w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            <div *ngIf="corpForm.get('postal_code')?.touched && corpForm.get('postal_code')?.invalid" class="text-xs text-red mt-1">Postal Code is required.</div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">City</label>
            <input type="text" formControlName="city" placeholder="Enter city" autocomplete="off" [readonly]="corpForm.get('city')?.disabled" class="w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            <div *ngIf="corpForm.get('city')?.touched && corpForm.get('city')?.invalid" class="text-xs text-red mt-1">City is required.</div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">Company Email</label>
            <div class="relative">
              <i class="ri-mail-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
              <input type="email" formControlName="company_email" placeholder="company@example.com" autocomplete="off" [readonly]="corpForm.get('company_email')?.disabled" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            </div>
            <div *ngIf="corpForm.get('company_email')?.touched && corpForm.get('company_email')?.invalid" class="text-xs text-red mt-1">
              <ng-container *ngIf="corpForm.get('company_email')?.errors?.['required']">Company Email is required.</ng-container>
              <ng-container *ngIf="corpForm.get('company_email')?.errors?.['email']">Invalid email address.</ng-container>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-main mb-1">Company Phone Number</label>
            <div class="relative">
              <i class="ri-phone-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
              <input type="text" formControlName="company_phone" placeholder="Enter Phone Number" autocomplete="off" [readonly]="corpForm.get('company_phone')?.disabled" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white disabled:bg-gray-100 disabled:text-gray-500">
            </div>
            <div *ngIf="corpForm.get('company_phone')?.touched && corpForm.get('company_phone')?.invalid" class="text-xs text-red mt-1">Company Phone Number is required.</div>
          </div>
        </div>
      </div>

      <!-- Resources Section -->
      <div>
        <h3 class="text-lg font-semibold text-main mb-2">Available Resources</h3>
        <p class="text-sm text-gray-500 mb-2">Select the resources this corporation will have access to.</p>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-2">
          <div *ngFor="let resource of allResources" 
               (click)="toggleResource(resource.resource_id)"
               class="p-2 border rounded-lg cursor-pointer transition-all duration-200"
               [class.bg-gray-100]="isResourceSelected(resource.resource_id)"
               [class.border-primary]="isResourceSelected(resource.resource_id)"
               [class.border-gray-200]="!isResourceSelected(resource.resource_id)">
            <div class="flex items-center space-x-2">
              <i [class]="resource.icon + ' text-lg'" [class.text-primary]="isResourceSelected(resource.resource_id)"></i>
              <div>
                <p class="font-medium text-sm" [class.text-primary]="isResourceSelected(resource.resource_id)">{{resource.title}}</p>
                <p class="text-xs text-gray-500">{{resource.description}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <hr class="my-3 border-gray-200 dark:border-gray-700">

      <!-- Admin User Section (Add mode only) -->
      <ng-container *ngIf="!isEditMode">
        <div>
          <div class="flex items-center space-x-2 mb-1">
            <i class="ri-user-add-line text-lg text-main"></i>
            <h3 class="text-lg font-semibold text-main">Contact Person / Admin User</h3>
          </div>
          <div class="text-sm text-gray-500 mb-2">This person will have admin access and use this account to log in</div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <div>
              <label class="block text-sm font-medium text-main mb-1">First Name</label>
              <div class="relative">
                <i class="ri-user-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="text" formControlName="admin_first_name" placeholder="Enter first name" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white">
              </div>
              <div *ngIf="corpForm.get('admin_first_name')?.touched && corpForm.get('admin_first_name')?.invalid" class="text-xs text-red mt-1">First Name is required.</div>
            </div>
            <div>
              <label class="block text-sm font-medium text-main mb-1">Last Name</label>
              <div class="relative">
                <i class="ri-user-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="text" formControlName="admin_last_name" placeholder="Enter last name" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white">
              </div>
              <div *ngIf="corpForm.get('admin_last_name')?.touched && corpForm.get('admin_last_name')?.invalid" class="text-xs text-red mt-1">Last Name is required.</div>
            </div>
            <div>
              <label class="block text-sm font-medium text-main mb-1">Email Address (used for login)</label>
              <div class="relative">
                <i class="ri-mail-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="email" formControlName="admin_email" placeholder="contact@example.com" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white">
              </div>
              <div *ngIf="corpForm.get('admin_email')?.touched && corpForm.get('admin_email')?.invalid" class="text-xs text-red mt-1">
                <ng-container *ngIf="corpForm.get('admin_email')?.errors?.['required']">Email is required.</ng-container>
                <ng-container *ngIf="corpForm.get('admin_email')?.errors?.['email']">Invalid email address.</ng-container>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-main mb-1">Password</label>
              <div class="relative">
                <i class="ri-lock-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="password" formControlName="admin_password" placeholder="Enter secure password" class="w-full pl-10 pr-10 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white">
                <i class="ri-eye-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
              </div>
              <div *ngIf="corpForm.get('admin_password')?.touched && corpForm.get('admin_password')?.invalid" class="text-xs text-red mt-1">Password is required.</div>
            </div>
            <div>
              <label class="block text-sm font-medium text-main mb-1">Phone Number</label>
              <div class="relative">
                <i class="ri-phone-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                <input type="text" formControlName="admin_phone" placeholder="Enter Phone Number" class="w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-main dark:bg-gray-700 dark:text-white">
              </div>
              <div *ngIf="corpForm.get('admin_phone')?.touched && corpForm.get('admin_phone')?.invalid" class="text-xs text-red mt-1">Phone Number is required.</div>
            </div>
          </div>
        </div>
        <div class="flex items-center mt-3">
          <input type="checkbox" formControlName="agreement" id="agreement" class="mr-2">
          <label for="agreement" class="text-sm text-main">I agree to the <a href="#" class="text-primary underline">terms of service</a> and <a href="#" class="text-primary underline">privacy policy</a></label>
        </div>
        <div *ngIf="corpForm.get('agreement')?.touched && corpForm.get('agreement')?.invalid" class="text-xs text-red mt-1">
          You must agree to the terms of service and privacy policy.
        </div>
      </ng-container>
      <div class="flex justify-end mt-4">
        <button type="submit" [disabled]="loading" class="bg-primary text-white px-6 py-2 rounded-md hover:bg-primary-dark transition-colors flex items-center border border-primary/20">
          <ng-container *ngIf="!loading">{{ isEditMode ? 'Update Corporation' : 'Register Company' }}</ng-container>
          <ng-container *ngIf="loading">
            <svg class="animate-spin h-5 w-5 text-white mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span>{{ isEditMode ? 'Updating...' : 'Registering...' }}</span>
          </ng-container>
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Delete Confirmation Modal -->
<div *ngIf="showDeleteModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50">
  <div class="bg-white dark:bg-gray-800 rounded-xl w-full max-w-md p-8 border border-gray-200 dark:border-gray-700 relative shadow-xl flex flex-col items-center">
    <button (click)="closeDeleteModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 text-2xl">
      <i class="ri-close-line"></i>
    </button>
    <i class="ri-delete-bin-line text-primary text-4xl mb-4"></i>
    <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Delete Corporation</h2>
    <p class="text-gray-600 dark:text-gray-400 mb-4 text-center">Are you sure you want to delete this corporation? This action will affect:</p>
    
    <div class="w-full space-y-2 mb-6">
      <div class="flex items-center text-sm text-gray-600 dark:text-gray-400">
        <i class="ri-building-line mr-2"></i>
        <span>Corporation and Organization records</span>
      </div>
      <div class="flex items-center text-sm text-gray-600 dark:text-gray-400">
        <i class="ri-user-line mr-2"></i>
        <span>All associated users</span>
      </div>
      <div class="flex items-center text-sm text-gray-600 dark:text-gray-400">
        <i class="ri-shield-user-line mr-2"></i>
        <span>All roles and permissions</span>
      </div>
      <div class="flex items-center text-sm text-gray-600 dark:text-gray-400">
        <i class="ri-palette-line mr-2"></i>
        <span>Theme settings</span>
      </div>
      <div class="flex items-center text-sm text-gray-600 dark:text-gray-400">
        <i class="ri-car-line mr-2"></i>
        <span>All vehicle records</span>
      </div>
    </div>

    <p class="text-red text-sm mb-6 text-center">This action cannot be undone. All data will be permanently deleted.</p>
    
    <div class="flex gap-4 w-full justify-center">
      <button type="button" (click)="closeDeleteModal()" class="px-5 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition">Cancel</button>
      <button type="button" (click)="confirmDeleteCorporation()" class="px-5 py-2 bg-primary text-white rounded-md transition">Delete Corporation</button>
    </div>
  </div>
</div> 